<nav class="main-nav" aria-label="Main navigation">
  <button
    class="nav-toggle"
    aria-expanded="false"
    aria-controls="nav-menu"
    aria-label="Toggle navigation menu"
  >
    <span class="hamburger-line"></span>
    <span class="hamburger-line"></span>
    <span class="hamburger-line"></span>
  </button>

  <ul class="nav-menu" id="nav-menu">
    {%- for item in navigation.items %}
    <li class="nav-item {% if item.children %}has-dropdown{% endif %}">
      {%- if item.children %}
      <button
        class="nav-link dropdown-toggle"
        aria-expanded="false"
        aria-haspopup="true"
      >
        {{ item.title }}
        <svg class="dropdown-arrow" width="10" height="6" viewBox="0 0 10 6" fill="none" aria-hidden="true">
          <path d="M1 1L5 5L9 1" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      <ul class="dropdown-menu">
        {%- for child in item.children %}
        <li class="dropdown-item">
          <a
            href="{{ child.url }}"
            class="nav-link dropdown-link {% if page.url == child.url %}is-active{% endif %}"
            {% if page.url == child.url %}aria-current="page"{% endif %}
          >
            {{ child.title }}
          </a>
        </li>
        {%- endfor %}
      </ul>
      {%- else %}
      <a
        href="{{ item.url }}"
        class="nav-link {% if page.url == item.url %}is-active{% endif %}"
        {% if page.url == item.url %}aria-current="page"{% endif %}
      >
        {{ item.title }}
      </a>
      {%- endif %}
    </li>
    {%- endfor %}
  </ul>
</nav>

<div class="nav-overlay" aria-hidden="true"></div>
